<?xml version="1.0" encoding="utf-8"?>
<!--

  This AndroidManifest is an example of AppMetrica and AppMetrica Push SDKs integration.

-->
<manifest android:versionCode="1" android:versionName="1.0" package="com.yandex.mobile.metrica.push.sample.unity" xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools">

  <uses-sdk android:minSdkVersion="9" android:targetSdkVersion="24"/>

  <!-- AppMetrica Permissions -->
  <uses-permission android:name="android.permission.INTERNET"/>
  <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
  <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>

  <!-- AppMetrica Push Permissions -->
  <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE"/>
  <uses-permission android:name="android.permission.WAKE_LOCK"/>
  <uses-permission android:name="android.permission.GET_ACCOUNTS"/>
  <uses-permission android:name="android.permission.VIBRATE"/>
  <uses-permission android:name="com.yandex.mobile.metrica.push.sample.unity.permission.C2D_MESSAGE"/>
  <permission android:name="com.yandex.mobile.metrica.push.sample.unity.permission.C2D_MESSAGE" android:protectionLevel="signature"/>


  <!-- Application -->
  <application android:icon="@drawable/app_icon" android:label="@string/app_name">

    <!-- Unity Main Activity -->
    <activity android:configChanges="keyboardHidden|orientation" android:label="@string/app_name" android:name="com.unity3d.player.UnityPlayerActivity">
      <intent-filter>
        <action android:name="android.intent.action.MAIN"/>
        <category android:name="android.intent.category.LAUNCHER"/>
      </intent-filter>
    </activity>

    <!-- AppMetrica Services and Receivers -->
    <service android:enabled="true" android:exported="true" android:name="com.yandex.metrica.MetricaService" android:process=":Metrica">
      <intent-filter>
        <category android:name="android.intent.category.DEFAULT"/>
        <action android:name="com.yandex.metrica.IMetricaService"/>
        <data android:scheme="metrica"/>
      </intent-filter>
      <meta-data android:name="metrica:api:level" android:value="52"/>
    </service>
    <receiver android:enabled="true" android:exported="true" android:name="com.yandex.metrica.MetricaEventHandler">
      <intent-filter>
        <action android:name="com.android.vending.INSTALL_REFERRER"/>
      </intent-filter>
    </receiver>

    <!-- AppMetrica Push Services and Receivers -->
    <receiver android:exported="true" android:name="com.google.android.gms.gcm.GcmReceiver" android:permission="com.google.android.c2dm.permission.SEND">
      <intent-filter>
        <action android:name="com.google.android.c2dm.intent.REGISTRATION"/>
        <action android:name="com.google.android.c2dm.intent.RECEIVE"/>
        <category android:name="com.yandex.mobile.metricapush.pluginunity"/>
      </intent-filter>
    </receiver>
    <receiver android:exported="false" android:name="com.yandex.metrica.push.core.notification.MetricaPushBroadcastReceiver">
      <intent-filter>
        <action android:name="com.yandex.metrica.push.action.NOTIFICATION_ACTION"/>
      </intent-filter>
    </receiver>
    <service android:exported="false" android:name="com.yandex.metrica.push.gcm.MetricaInstanceIDListenerService">
      <intent-filter>
        <action android:name="com.google.android.gms.iid.InstanceID"/>
      </intent-filter>
    </service>
    <service android:exported="false" android:name="com.yandex.metrica.push.PushService"/>

    <!-- Your GCM Project Number -->
    <meta-data android:name="ymp_gcm_project_number" android:value="number:51179453772"/>

  </application>

</manifest>
